<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="busca.css">
<title>Buscaminas</title>

</head>
<body>

<h1>Buscaminas</h1>
<p id="nivelJuego">Nivel 1</p>
<div id="tablero"></div>
<button id="cerrar" onclick="window.close()">Cerrar ventana</button>

<script>
// Generar tablero según el nivel
function generarTablero(nivel) {
    const tamanos = {1:3,2:4,3:5,4:6,5:7};
    const tamaño = tamanos[nivel] || 3;

    const tableroDiv = document.getElementById('tablero');
    tableroDiv.innerHTML = '';
    tableroDiv.style.gridTemplateColumns = `repeat(${tamaño}, 40px)`;

    for(let i=0; i<tamaño*tamaño; i++){
        const celda = document.createElement('button');
        celda.textContent = '';
        celda.addEventListener('click', () => {
            alert(`Has clicado en la celda ${i+1}`);
        });
        tableroDiv.appendChild(celda);
    }
}

// Recibir nivel desde ventana principal
window.addEventListener('message', (evento) => {
    const nivel = evento.data.nivel || 1;
    document.getElementById('nivelJuego').textContent = `Nivel ${nivel}`;
    generarTablero(nivel);
});

// Inicializar por defecto
document.addEventListener('DOMContentLoaded', () => {
    generarTablero(1);
});
</script>

</body>
</html>
